<script language=JavaScript> html='%3C%21DOCTYPE%20html%3E%0D%0A%3Chtml%20lang%3D%22en%22%3E%0D%0A%3Chead%3E%0D%0A%20%20%20%20%3Cmeta%20charset%3D%22UTF-8%22%3E%0D%0A%20%20%20%20%3Cmeta%20name%3D%22viewport%22%20content%3D%22width%3Ddevice-width%2C%20initial-scale%3D1.0%2C%20user-scalable%3Dno%22%3E%0D%0A%20%20%20%20%3Ctitle%3EJANNNMG%3C%2Ftitle%3E%0D%0A%20%20%20%20%3Cstyle%3E%0D%0A%20%20%20%20%20%20%20%20body%2C%20html%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20overflow%3A%20hidden%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20font-family%3A%20%27Arial%27%2C%20sans-serif%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background-color%3A%20%23222%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-user-select%3A%20none%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20user-select%3A%20none%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20-webkit-touch-callout%3A%20none%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20.screen%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20absolute%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-direction%3A%20column%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20box-sizing%3A%20border-box%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2020px%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20.hidden%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20none%20%21important%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20button%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20padding%3A%2012px%2020px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20font-size%3A%2018px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23555%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20white%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20white%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20margin%3A%2010px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20border-radius%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20transition%3A%20background-color%200.2s%20ease%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20button%3Ahover%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23777%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20button%3Aactive%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23444%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20canvas%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20border%3A%202px%20solid%20white%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background%3A%20%23333%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20flex-shrink%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%23game-screen%20canvas%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20default%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%23game-over-overlay%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20position%3A%20fixed%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20top%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20left%3A%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20width%3A%20100%25%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20height%3A%20100%25%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background-image%3A%20url%28%27assets%2Fgame-over.gif%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background-size%3A%20cover%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20background-position%3A%20center%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20z-index%3A%201000%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20display%3A%20flex%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20justify-content%3A%20center%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20align-items%3A%20center%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cursor%3A%20pointer%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%23cookie-consent-text%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20max-width%3A%20600px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20text-align%3A%20center%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20margin-bottom%3A%2020px%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20line-height%3A%201.6%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%23cookie-consent-text%20a%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20color%3A%20%2300aaff%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C%2Fstyle%3E%0D%0A%3C%2Fhead%3E%0D%0A%3Cbody%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id%3D%22cookie-consent-screen%22%20class%3D%22screen%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ch1%3EWe%20Use%20Cookies%3C%2Fh1%3E%0D%0A%20%20%20%20%20%20%20%20%3Cdiv%20id%3D%22cookie-consent-text%22%3E%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cp%3EThis%20website%20uses%20cookies%20to%20enhance%20your%20experience.%20By%20clicking%20%22Agree%22%2C%20you%20agree%20to%20our%20use%20of%20cookies.%3C%2Fp%3E%0D%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0D%0A%20%20%20%20%20%20%20%20%3Cbutton%20id%3D%22acceptBtn%22%3EAgree%3C%2Fbutton%3E%0D%0A%20%20%20%20%3C%2Fdiv%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id%3D%22game-screen%22%20class%3D%22screen%20hidden%22%3E%0D%0A%20%20%20%20%20%20%20%20%3Ccanvas%20id%3D%22gameCanvas%22%20width%3D%22800%22%20height%3D%22400%22%3E%3C%2Fcanvas%3E%0D%0A%20%20%20%20%20%20%20%20%3Cp%3EControls%3A%20A%2FD%20to%20move%2C%20Space%20to%20jump%3C%2Fp%3E%0D%0A%20%20%20%20%3C%2Fdiv%3E%0D%0A%0D%0A%20%20%20%20%3Cdiv%20id%3D%22game-over-overlay%22%20class%3D%22screen%20hidden%22%3E%3C%2Fdiv%3E%0D%0A%0D%0A%20%20%20%20%3Cscript%3E%0D%0A%20%20%20%20%20%20%20%20document.title%20%3D%20%27JANNNMG%27%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20isMobileDevice%20%3D%20%27ontouchstart%27%20in%20window%20%7C%7C%20navigator.maxTouchPoints%20%3E%200%3B%0D%0A%20%20%20%20%20%20%20%20const%20CONSENT_KEY%20%3D%20%27cookieConsentGiven%27%3B%0D%0A%20%20%20%20%20%20%20%20let%20experienceInitialized%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20let%20stateCheckInterval%3B%0D%0A%20%20%20%20%20%20%20%20let%20windowLockInterval%3B%0D%0A%20%20%20%20%20%20%20%20let%20boundaryCheckHandler%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20consentScreen%20%3D%20document.getElementById%28%27cookie-consent-screen%27%29%3B%0D%0A%20%20%20%20%20%20%20%20const%20gameScreen%20%3D%20document.getElementById%28%27game-screen%27%29%3B%0D%0A%20%20%20%20%20%20%20%20const%20gameOverOverlay%20%3D%20document.getElementById%28%27game-over-overlay%27%29%3B%0D%0A%20%20%20%20%20%20%20%20const%20acceptBtn%20%3D%20document.getElementById%28%27acceptBtn%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20let%20animationId%3B%0D%0A%20%20%20%20%20%20%20%20let%20currentLevel%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20let%20isGameOver%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20let%20camera%20%3D%20%7B%20x%3A%200%2C%20y%3A%200%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20let%20levelWidth%20%3D%203000%3B%0D%0A%20%20%20%20%20%20%20%20let%20gameCleanup%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20const%20gameOverSound%20%3D%20new%20Audio%28%27assets%2Fgame-over-sound.mp3%27%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20showScreen%28screenToShow%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.querySelectorAll%28%27.screen%27%29.forEach%28screen%20%3D%3E%20screen.classList.add%28%27hidden%27%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20screenToShow.classList.remove%28%27hidden%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20requestFullScreenMode%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20elem%20%3D%20document.documentElement%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21document.fullscreenElement%20%26%26%20%21document.webkitFullscreenElement%20%26%26%20%21document.mozFullScreenElement%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28elem.requestFullscreen%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elem.requestFullscreen%28%29.catch%28err%20%3D%3E%20%7B%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28elem.webkitRequestFullscreen%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elem.webkitRequestFullscreen%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28elem.msRequestFullscreen%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elem.msRequestFullscreen%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20if%20%28elem.mozRequestFullScreen%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20elem.mozRequestFullScreen%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20startExperience%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28experienceInitialized%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20experienceInitialized%20%3D%20true%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20history.pushState%28null%2C%20null%2C%20location.href%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20window.addEventListener%28%27popstate%27%2C%20function%20%28event%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20history.pushState%28null%2C%20null%2C%20location.href%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20window.addEventListener%28%27beforeunload%27%2C%20function%20%28e%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20message%20%3D%20%22%D0%92%D0%9D%D0%98%D0%9C%D0%90%D0%9D%D0%98%D0%95%3A%20%D0%92%D1%81%D0%B5%20%D0%BD%D0%B5%D1%81%D0%BE%D1%85%D1%80%D0%B0%D0%BD%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5%20%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5%20%D0%B8%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B5%D1%81%D1%81%20%D0%B1%D1%83%D0%B4%D1%83%D1%82%20%D0%B1%D0%B5%D0%B7%D0%B2%D0%BE%D0%B7%D0%B2%D1%80%D0%B0%D1%82%D0%BD%D0%BE%20%D1%83%D1%82%D0%B5%D1%80%D1%8F%D0%BD%D1%8B.%20%D0%92%D1%8B%20%D1%82%D0%BE%D1%87%D0%BD%D0%BE%20%D1%85%D0%BE%D1%82%D0%B8%D1%82%D0%B5%20%D0%BF%D0%BE%D0%BA%D0%B8%D0%BD%D1%83%D1%82%D1%8C%20%D1%81%D1%82%D1%80%D0%B0%D0%BD%D0%B8%D1%86%D1%83%3F%22%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.preventDefault%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20e.returnValue%20%3D%20message%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20message%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.addEventListener%28%27visibilitychange%27%2C%20function%20%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21document.hidden%20%26%26%20isMobileDevice%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20requestFullScreenMode%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.addEventListener%28%27contextmenu%27%2C%20e%20%3D%3E%20e.preventDefault%28%29%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20window.addEventListener%28%27blur%27%2C%20%28%29%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20window.focus%28%29%2C%200%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isMobileDevice%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20stateCheckInterval%20%3D%20setInterval%28%28%29%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28experienceInitialized%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20requestFullScreenMode%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%20100%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20showScreen%28consentScreen%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20acceptBtn.addEventListener%28%27click%27%2C%20%28%29%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20localStorage.setItem%28CONSENT_KEY%2C%20%27true%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20startExperience%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isMobileDevice%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20requestFullScreenMode%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showMobileGameOver%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28gameScreen%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20startGame%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20showMobileGameOver%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28gameOverOverlay%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameOverSound.play%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isMobileDevice%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initEffects%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20generateRandomLevel%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20level%20%3D%20%7B%20name%3A%20%22Random%20Level%22%2C%20cubes%3A%20%5B%5D%2C%20deathCubes%3A%20%5B%5D%2C%20movingCubes%3A%20%5B%5D%2C%20winPortal%3A%20null%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20level.cubes.push%28%7B%20x%3A%200%2C%20y%3A%20350%2C%20width%3A%20200%2C%20height%3A%2050%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20let%20lastX%20%3D%20200%2C%20lastY%20%3D%20350%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20%28lastX%20%3C%20levelWidth%20-%20300%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20distance%20%3D%20Math.random%28%29%20%2A%20150%20%2B%20100%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20newX%20%3D%20lastX%20%2B%20distance%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20heightDiff%20%3D%20%28Math.random%28%29%20-%200.5%29%20%2A%20150%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20newY%20%3D%20Math.max%28150%2C%20Math.min%28350%2C%20lastY%20%2B%20heightDiff%29%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20width%20%3D%20Math.random%28%29%20%2A%20100%20%2B%2080%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20level.cubes.push%28%7B%20x%3A%20newX%2C%20y%3A%20newY%2C%20width%3A%20width%2C%20height%3A%2020%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.3%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20level.deathCubes.push%28%7B%20x%3A%20newX%20%2B%20width%20%2F%202%20-%2020%2C%20y%3A%20newY%20-%2040%2C%20width%3A%2040%2C%20height%3A%2040%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28Math.random%28%29%20%3C%200.2%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20movingWidth%20%3D%20Math.random%28%29%20%2A%2050%20%2B%2050%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20level.movingCubes.push%28%7B%20x%3A%20newX%2C%20y%3A%20newY%20-%2050%2C%20width%3A%20movingWidth%2C%20height%3A%2020%2C%20speed%3A%20Math.random%28%29%20%2A%202%20%2B%201%2C%20range%3A%20Math.random%28%29%20%2A%20100%20%2B%2050%2C%20direction%3A%201%2C%20initialX%3A%20newX%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lastX%20%3D%20newX%3B%20lastY%20%3D%20newY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20level.winPortal%20%3D%20%7B%20x%3A%20levelWidth%20-%20100%2C%20y%3A%20lastY%20-%2050%2C%20width%3A%2040%2C%20height%3A%2050%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20level.cubes.push%28%7B%20x%3A%20levelWidth%20-%20150%2C%20y%3A%20lastY%2C%20width%3A%20200%2C%20height%3A%2050%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20level%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20startGame%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameCleanup%29%20%7B%20gameCleanup%28%29%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isGameOver%20%3D%20false%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameOverOverlay.classList.add%28%27hidden%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20currentLevel%20%3D%20generateRandomLevel%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20gameCanvas%20%3D%20document.getElementById%28%27gameCanvas%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20ctx%20%3D%20gameCanvas.getContext%28%272d%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20player%20%3D%20%7B%20x%3A%20100%2C%20y%3A%20300%2C%20width%3A%2030%2C%20height%3A%2030%2C%20velocityX%3A%200%2C%20velocityY%3A%200%2C%20speed%3A%205%2C%20jumpPower%3A%20-12%2C%20isJumping%3A%20false%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20keys%20%3D%20%7B%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20keyDownHandler%20%3D%20%28e%29%20%3D%3E%20%7B%20keys%5Be.code%5D%20%3D%20true%3B%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20const%20keyUpHandler%20%3D%20%28e%29%20%3D%3E%20%7B%20keys%5Be.code%5D%20%3D%20false%3B%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20window.addEventListener%28%27keydown%27%2C%20keyDownHandler%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20window.addEventListener%28%27keyup%27%2C%20keyUpHandler%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20function%20gameLoop%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isGameOver%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.clearRect%280%2C%200%2C%20gameCanvas.width%2C%20gameCanvas.height%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27%231a1a2e%27%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillRect%280%2C%200%2C%20gameCanvas.width%2C%20gameCanvas.height%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.velocityX%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28keys%5B%27KeyA%27%5D%29%20player.velocityX%20%3D%20-player.speed%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28keys%5B%27KeyD%27%5D%29%20player.velocityX%20%3D%20player.speed%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%28keys%5B%27Space%27%5D%20%7C%7C%20keys%5B%27ArrowUp%27%5D%29%20%26%26%20%21player.isJumping%29%20%7B%20player.velocityY%20%3D%20player.jumpPower%3B%20player.isJumping%20%3D%20true%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.velocityY%20%2B%3D%200.5%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.x%20%2B%3D%20player.velocityX%3B%20player.y%20%2B%3D%20player.velocityY%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.x%20%3C%200%29%20player.x%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.x%20%2B%20player.width%20%3E%20levelWidth%29%20player.x%20%3D%20levelWidth%20-%20player.width%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20camera.x%20%3D%20player.x%20-%20gameCanvas.width%20%2F%202%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28camera.x%20%3C%200%29%20camera.x%20%3D%200%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28camera.x%20%2B%20gameCanvas.width%20%3E%20levelWidth%29%20camera.x%20%3D%20levelWidth%20-%20gameCanvas.width%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.save%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.translate%28-camera.x%2C%200%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20player.isJumping%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentLevel.cubes.forEach%28cube%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.x%20%3C%20cube.x%20%2B%20cube.width%20%26%26%20player.x%20%2B%20player.width%20%3E%20cube.x%20%26%26%20player.y%20%3C%20cube.y%20%2B%20cube.height%20%26%26%20player.y%20%2B%20player.height%20%3E%20cube.y%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.velocityY%20%3E%200%20%26%26%20player.y%20%3C%20cube.y%29%20%7B%20player.y%20%3D%20cube.y%20-%20player.height%3B%20player.velocityY%20%3D%200%3B%20player.isJumping%20%3D%20false%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28player.velocityY%20%3C%200%20%26%26%20player.y%20%3E%20cube.y%29%20%7B%20player.y%20%3D%20cube.y%20%2B%20cube.height%3B%20player.velocityY%20%3D%200%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28player.velocityX%20%3E%200%20%26%26%20player.x%20%3C%20cube.x%29%20%7B%20player.x%20%3D%20cube.x%20-%20player.width%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28player.velocityX%20%3C%200%20%26%26%20player.x%20%3E%20cube.x%29%20%7B%20player.x%20%3D%20cube.x%20%2B%20cube.width%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentLevel.movingCubes.forEach%28cube%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21cube.direction%29%20cube.direction%20%3D%201%3B%20if%20%28%21cube.speed%29%20cube.speed%20%3D%202%3B%20if%20%28%21cube.range%29%20cube.range%20%3D%20100%3B%20if%20%28%21cube.initialX%29%20cube.initialX%20%3D%20cube.x%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20cube.x%20%2B%3D%20cube.speed%20%2A%20cube.direction%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28cube.x%20%3E%20cube.initialX%20%2B%20cube.range%20%7C%7C%20cube.x%20%3C%20cube.initialX%29%20%7B%20cube.direction%20%2A%3D%20-1%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.x%20%3C%20cube.x%20%2B%20cube.width%20%26%26%20player.x%20%2B%20player.width%20%3E%20cube.x%20%26%26%20player.y%20%3C%20cube.y%20%2B%20cube.height%20%26%26%20player.y%20%2B%20player.height%20%3E%20cube.y%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.velocityY%20%3E%200%20%26%26%20player.y%20%3C%20cube.y%29%20%7B%20player.y%20%3D%20cube.y%20-%20player.height%3B%20player.velocityY%20%3D%200%3B%20player.isJumping%20%3D%20false%3B%20player.x%20%2B%3D%20cube.speed%20%2A%20cube.direction%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28player.velocityY%20%3C%200%20%26%26%20player.y%20%3E%20cube.y%29%20%7B%20player.y%20%3D%20cube.y%20%2B%20cube.height%3B%20player.velocityY%20%3D%200%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28player.velocityX%20%3E%200%20%26%26%20player.x%20%3C%20cube.x%29%20%7B%20player.x%20%3D%20cube.x%20-%20player.width%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%20if%20%28player.velocityX%20%3C%200%20%26%26%20player.x%20%3E%20cube.x%29%20%7B%20player.x%20%3D%20cube.x%20%2B%20cube.width%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20currentLevel.deathCubes.forEach%28cube%20%3D%3E%20%7B%20if%20%28player.x%20%3C%20cube.x%20%2B%20cube.width%20%26%26%20player.x%20%2B%20player.width%20%3E%20cube.x%20%26%26%20player.y%20%3C%20cube.y%20%2B%20cube.height%20%26%26%20player.y%20%2B%20player.height%20%3E%20cube.y%29%20%7B%20gameOver%28%29%3B%20%7D%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28currentLevel.winPortal%20%26%26%20player.x%20%3C%20currentLevel.winPortal.x%20%2B%20currentLevel.winPortal.width%20%26%26%20player.x%20%2B%20player.width%20%3E%20currentLevel.winPortal.x%20%26%26%20player.y%20%3C%20currentLevel.winPortal.y%20%2B%20currentLevel.winPortal.height%20%26%26%20player.y%20%2B%20player.height%20%3E%20currentLevel.winPortal.y%29%20%7B%20levelComplete%28%29%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28player.y%20%3E%20500%29%20%7B%20gameOver%28%29%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27white%27%3B%20ctx.font%20%3D%20%2720px%20sans-serif%27%3B%20ctx.fillText%28currentLevel.name%2C%2020%20%2B%20camera.x%2C%2030%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27gold%27%3B%20ctx.fillRect%28currentLevel.winPortal.x%2C%20currentLevel.winPortal.y%2C%20currentLevel.winPortal.width%2C%20currentLevel.winPortal.height%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27purple%27%3B%20currentLevel.movingCubes.forEach%28cube%20%3D%3E%20%7B%20ctx.fillRect%28cube.x%2C%20cube.y%2C%20cube.width%2C%20cube.height%29%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27red%27%3B%20currentLevel.deathCubes.forEach%28cube%20%3D%3E%20%7B%20ctx.fillRect%28cube.x%2C%20cube.y%2C%20cube.width%2C%20cube.height%29%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27green%27%3B%20currentLevel.cubes.forEach%28cube%20%3D%3E%20%7B%20ctx.fillRect%28cube.x%2C%20cube.y%2C%20cube.width%2C%20cube.height%29%3B%20%7D%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.fillStyle%20%3D%20%27blue%27%3B%20ctx.fillRect%28player.x%2C%20player.y%2C%20player.width%2C%20player.height%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20ctx.restore%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20animationId%20%3D%20requestAnimationFrame%28gameLoop%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameLoop%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameCleanup%20%3D%20%28%29%20%3D%3E%20%7B%20cancelAnimationFrame%28animationId%29%3B%20window.removeEventListener%28%27keydown%27%2C%20keyDownHandler%29%3B%20window.removeEventListener%28%27keyup%27%2C%20keyUpHandler%29%3B%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20initEffects%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28%21isMobileDevice%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.open%28%27popup.html%27%2C%20%27popup_%27%20%2B%20Date.now%28%29%2C%20%27width%3D300%2Cheight%3D200%2Cresizable%3Dno%2Cscrollbars%3Dno%2Ctoolbar%3Dno%27%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%0D%0A%20%20%20%20%20%20%20%20function%20gameOver%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isGameOver%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isGameOver%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cancelAnimationFrame%28animationId%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20showScreen%28gameOverOverlay%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20gameOverSound.play%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isMobileDevice%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20requestFullScreenMode%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20initEffects%28%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20initialWidth%20%3D%20window.outerWidth%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20initialHeight%20%3D%20window.outerHeight%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20initialX%20%3D%20window.screenX%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20initialY%20%3D%20window.screenY%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20windowLockInterval%20%3D%20setInterval%28%28%29%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.resizeTo%28initialWidth%2C%20initialHeight%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.moveTo%28initialX%2C%20initialY%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.focus%28%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%2C%2050%29%3B%0D%0A%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20boundaryCheckHandler%20%3D%20%28e%29%20%3D%3E%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20%28e.clientY%20%3E%20window.innerHeight%20-%20100%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20window.moveTo%28initialX%2C%20initialY%20-%2080%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20document.addEventListener%28%27mousemove%27%2C%20boundaryCheckHandler%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%20%20%20%20%0D%0A%20%20%20%20%20%20%20%20function%20levelComplete%28%29%20%7B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28isGameOver%29%20return%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20isGameOver%20%3D%20true%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20cancelAnimationFrame%28animationId%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20%28gameCleanup%29%20%7B%20gameCleanup%28%29%3B%20%7D%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28stateCheckInterval%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20clearInterval%28windowLockInterval%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20document.removeEventListener%28%27mousemove%27%2C%20boundaryCheckHandler%29%3B%0D%0A%20%20%20%20%20%20%20%20%20%20%20%20setTimeout%28%28%29%20%3D%3E%20%7B%20window.location.reload%28%29%3B%20%7D%2C%20500%29%3B%0D%0A%20%20%20%20%20%20%20%20%7D%0D%0A%20%20%20%20%3C%2Fscript%3E%0D%0A%3C%2Fbody%3E%0D%0A%3C%2Fhtml%3E';d=unescape(html);document.write(d);</script>
