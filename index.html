<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Прыгающее окно</title>
    <style>
        /* Стили для центрирования кнопки на старте */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden; /* Важно, чтобы не было полос прокрутки */
            font-family: sans-serif;
        }

        /* Стили для кнопки */
        #agreeButton {
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
        }

        /* Стили для прыгающего окна */
        #popupWindow {
            position: fixed; /* Позиционирование относительно окна браузера */
            width: 150px;
            height: 80px;
            background-color: #f0f0f0;
            border: 1px solid black;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 20px;
            font-weight: bold;
            user-select: none; /* Чтобы нельзя было выделить текст */
        }

        /* Класс для скрытия элементов */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <!-- Кнопка, которая видна при загрузке -->
    <button id="agreeButton">Agree</button>

    <!-- Окно, которое изначально скрыто -->
    <div id="popupWindow" class="hidden">hahaha</div>

    <script>
        // Находим наши элементы на странице
        const agreeButton = document.getElementById('agreeButton');
        const popupWindow = document.getElementById('popupWindow');

        // Переменные для позиции и скорости окна
        let posX, posY, speedX, speedY;

        // Функция анимации
        function animate() {
            // Двигаем окно
            posX += speedX;
            posY += speedY;

            // Отталкиваемся от левого и правого краев
            if (posX <= 0 || posX >= window.innerWidth - popupWindow.offsetWidth) {
                speedX = -speedX; // Меняем направление по горизонтали
            }

            // Отталкиваемся от верхнего и нижнего краев
            if (posY <= 0 || posY >= window.innerHeight - popupWindow.offsetHeight) {
                speedY = -speedY; // Меняем направление по вертикали
            }

            // Применяем новую позицию к окну
            popupWindow.style.left = posX + 'px';
            popupWindow.style.top = posY + 'px';

            // Просим браузер запустить эту функцию снова на следующем кадре
            requestAnimationFrame(animate);
        }

        // Что происходит при нажатии на кнопку "Agree"
        agreeButton.addEventListener('click', () => {
            // 1. Скрываем кнопку
            agreeButton.classList.add('hidden');

            // 2. Показываем popup-окно
            popupWindow.classList.remove('hidden');

            // 3. Задаем случайную начальную позицию
            posX = Math.random() * (window.innerWidth - popupWindow.offsetWidth);
            posY = Math.random() * (window.innerHeight - popupWindow.offsetHeight);

            // 4. Задаем случайную скорость и направление
            speedX = (Math.random() - 0.5) * 10; // Случайное число от -5 до 5
            speedY = (Math.random() - 0.5) * 10; // Случайное число от -5 до 5

            // 5. Запускаем анимацию
            animate();
        });

    </script>
</body>
</html>
