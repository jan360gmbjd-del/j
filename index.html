<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Прыгающий попап</title>
    <style>
        body {
            /* Центрируем кнопку и скрываем скроллбары */
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            background-color: #f0f0f0; /* Простой серый фон */
        }

        #agreeBtn {
            padding: 10px 20px;
            cursor: pointer;
        }

        .popup {
            position: fixed;
            display: none; /* Скрыт по умолчанию */
            background-color: white;
            border: 2px solid black;
            padding: 20px;
            z-index: 1000;
        }
    </style>
</head>
<body>

    <button id="agreeBtn">Agree</button>
    
    <div class="popup" id="popup">
        <p>Это прыгающее окно!</p>
        <button onclick="closePopup()">Закрыть</button>
    </div>

    <script>
        let popup = document.getElementById('popup');
        let agreeBtn = document.getElementById('agreeBtn');
        let animationId;

        // Начальная позиция и скорость
        let x = 50;
        let y = 50;
        let vx = 4; // скорость по X
        let vy = 3; // скорость по Y

        agreeBtn.addEventListener('click', function() {
            // Показываем попап и запускаем анимацию
            popup.style.display = 'block';
            animate();
        });

        function animate() {
            // Получаем размеры окна и попапа
            let popupWidth = popup.offsetWidth;
            let popupHeight = popup.offsetHeight;
            let windowWidth = window.innerWidth;
            let windowHeight = window.innerHeight;

            // Двигаем попап
            x += vx;
            y += vy;

            // Проверка столкновения с краями экрана
            if (x + popupWidth > windowWidth || x < 0) {
                vx = -vx; // Меняем направление по горизонтали
            }
            if (y + popupHeight > windowHeight || y < 0) {
                vy = -vy; // Меняем направление по вертикали
            }

            // Устанавливаем новую позицию
            popup.style.left = x + 'px';
            popup.style.top = y + 'px';

            // Продолжаем анимацию
            animationId = requestAnimationFrame(animate);
        }

        function closePopup() {
            popup.style.display = 'none';
            // Останавливаем анимацию
            cancelAnimationFrame(animationId);
        }
    </script>

</body>
</html>
